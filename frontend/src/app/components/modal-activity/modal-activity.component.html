<div class="wrapper_alert" (click)="onClick($event)">
  <div class="alert_container">
    <h3>{{ title }}</h3>
    <hr />
    <form [formGroup]="formCreateActivity" (submit)="onSubmit()">
      <div class="row">
        <div class="campu">
          <label for="name">Nombre</label>
          <input
            formControlName="name"
            name="name"
            autocomplete="false"
            id="name"
            type="text"
            required
          />
        </div>
        <ul *ngIf="name.invalid && (name.dirty || name.touched)">
          <li>* El campo es obligatorio</li>
        </ul>
        <div class="campu">
          <label for="place">Lugar</label>
          <input
            formControlName="place"
            name="place"
            type="text"
            autocomplete="false"
            id="place"
            required
          />
        </div>
        <ul *ngIf="place.invalid && (place.dirty || place.touched)">
          <li>* El campo es obligatorio</li>
        </ul>
      </div>
      <div class="row">
        <div class="campu">
          <label for="date">Fecha</label>
          <input
            formControlName="date"
            name="date"
            id="date"
            type="datetime-local"
            min="{{ today | date: 'yyyy-MM-ddTHH:mm' }}"
            required
          />
        </div>
        <ul *ngIf="date.invalid && (date.dirty || date.touched)">
          <li>* El campo es obligatorio</li>
        </ul>
      </div>

      <div class="row">
        <div class="campu">
          <label for="risk">Riesgo</label>
          <select
            name="risk"
            id="risk"
            formControlName="risk"
            (change)="change()"
          >
            <option value="">Seleccione</option>
            <option value="global">Global</option>
            <option value="Académico">Academico</option>
            <option value="Individual">Individual</option>
            <option value="Institucional">Insititucional</option>
            <option value="Económico">Economico</option>
          </select>
        </div>
        <ul *ngIf="risk.invalid && (risk.dirty || risk.touched)">
          <li>* El campo es obligatorio</li>
        </ul>
        <div class="campu" *ngIf="risk.value === 'global'">
          <label for="riskLevel">Nivel</label>
          <select name="riskLevel" id="riskLevel" formControlName="riskLevel">
            <option value="">Seleccione</option>
            <option value="global">Global</option>
          </select>
        </div>
        <div class="campu" *ngIf="risk.value !== 'global'">
          <label for="riskLevel">Nivel</label>
          <select name="riskLevel" id="riskLevel" formControlName="riskLevel">
            <option value="">Seleccione</option>
            <option value="sin riesgo">Sin riesgo</option>
            <option value="leve">Leve</option>
            <option value="critico">Crítico</option>
            <option value="moderado">Moderado</option>
          </select>
        </div>
        <ul *ngIf="riskLevel.invalid && (riskLevel.dirty || riskLevel.touched)">
          <li>* El campo es obligatorio</li>
        </ul>
      </div>
      <div class="row">
        <div class="campu">
          <label for="description">Descripción</label>
          <textarea
            name="description"
            id="description"
            autocomplete="false"
            formControlName="description"
          ></textarea>
        </div>
        <ul
          *ngIf="
            description.invalid && (description.dirty || description.touched)
          "
        >
          <li>* El campo es obligatorio</li>
        </ul>
      </div>
      <button [disabled]="formCreateActivity.invalid || loading" type="submit">
        {{ textButton }}
        <i *ngIf="loading" class="fas fa-spinner fa-pulse fa-fw"></i>
      </button>
    </form>
  </div>
</div>
